<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Set character encoding -->
        <meta charset="UTF-8">
        <!-- Title that appears in the browser tab -->
        <title>AroundU</title>
        <!-- Link to the external stylesheet for page styling -->
        <link rel="stylesheet" href="styles.css">
        <!-- Favicon for the browser tab -->
        <link rel="icon" type="image/x-icon" href="favicon.ico">
    </head>
    <body>

        <!-- Header section containing the title and authentication buttons -->
        <header class="main-header">
            <!-- Main title with a subheading -->
            <h1>AroundU<br>
                <div class="sub-h1">Find Events Near You</div>
            </h1>

            <!-- Dropdown if user is NOT logged in -->
            <div class="dropdown" id="authDropdown" style="display: none;">
                <button class="dropbtn">Account</button>
                <div class="dropdown-content">
                    <!-- Button to open the Sign Up modal -->
                    <button id="openSignupBtn">Sign Up</button>
                    <!-- Button to open the Log In modal -->
                    <button id="openLoginBtn">Log In</button>
                </div>
            </div>

            <!-- Dropdown if user IS logged in -->
            <!-- Container to display welcome message after login; hidden by default -->
            <div class="dropdown" id="profileDropdown" style="display: none;">
                <button class="dropbtn">
                    Welcome, <span id="welcomeName"></span>!
                </button>
                <div class="dropdown-content">
                    <!-- Button to navigate to the Profile page -->
                    <button id="profileBtn">Profile</button>
                    <!-- Button to logout from the current session -->
                    <button id="logoutBtnIndex">Logout</button>
                </div>
            </div>
        </header>

        <!-- Location Error Message -->
        <div id="location-error-message" style="display: none; color: red; margin: 20px; text-align: center;">
            <!-- Error messages will be dynamically inserted here -->
        </div>
        
        <!-- Main Layout Container wrapping the search, filter, map, and events sections -->
        <div class="layout-container">

            <!-- Search Panel -->
            <div class="search-panel">
                <h2>Search</h2>
                <div class="search-fields">
                    <!-- Input field for search radius (in miles) -->
                    <label for="radius">Miles</label>
                    <input id="radius" type="number" placeholder="10" />
                    <!-- Section for filtering by event type -->
                    <div class="filter-section">
                        <h3>Event Type</h3>
                        <!-- Dropdown select for event types -->
                        <select id="event-type">
                            <option value="">All Types</option>
                            <!-- These options can be dynamically populated in the future -->
                            <option value="music">Music</option>
                            <option value="sports">Sports</option>
                            <option value="theater">Theater</option>
                            <option value="family">Family</option>
                            <option value="film">Film</option>
                            <option value="comedy">Comedy</option>
                        </select>
                    </div>
                    <br><br>
                    <!-- Button to trigger the search functionality -->
                    <button id="searchBtn">Search</button>
                    <!-- Element to display the current date/time -->
                    <p id="current-time">. . .</p>
                </div>
            </div>

            <!-- Map Container -->
            <div class="map-wrapper">
                <!-- Div where the Google Map will be rendered -->
                <div id="map"></div>
            </div>

            <!-- Events Container -->
            <div class="events-container" id="events-container">
                <!-- This section will be populated dynamically with event cards via JavaScript -->
            </div>

            <!-- Sign Up Modal -->
            <div id="signup-modal" class="modal">
                <div class="modal-content">
                    <!-- Button to close the modal -->
                    <span class="close-signup-btn">&times;</span>
                    <h2>Sign Up</h2>
                    <!-- Sign Up form -->
                    <form id="signupForm" class="signup-form">
                        <div class="form-row">
                            <label>First Name</label>
                            <input type="text" name="firstName" required />
                        </div>
                        <div class="form-row">
                            <label>Last Name</label>
                            <input type="text" name="lastName" required />
                        </div>
                        <div class="form-row">
                            <label>Email</label>
                            <input type="email" name="email" required />
                        </div>
                        <div class="form-row">
                            <label>Password</label>
                            <input type="password" name="password" required />
                        </div>
                        <div class="form-row">
                            <label>Confirm Password</label>
                            <input type="password" name="confirmPassword" required />
                        </div>
                        <div class="form-row">
                            <label>Date of Birth</label>
                            <input type="date" name="dateOfBirth" required />
                        </div>
                        <!-- Submit button for registration -->
                        <button type="submit">Register</button>
                    </form>
                </div>
            </div>

            <!-- Log In Modal -->
            <div id="login-modal" class="modal">
                <div class="modal-content">
                    <!-- Button to close the modal -->
                    <span class="close-login-btn">&times;</span>
                    <h2>Log In</h2>
                    <!-- Log In form -->
                    <form id="loginForm" class="login-form">
                        <div class="form-row">
                            <label>Email</label>
                            <input type="email" name="email" required />
                        </div>
                        <div class="form-row">
                            <label>Password</label>
                            <input type="password" name="password" required />
                        </div>
                        <!-- Submit button for login -->
                        <button type="submit">Login</button>
                    </form>
                </div>
            </div>

            <!-- Event Details Modal -->
            <div id="event-modal" class="modal">
                <div class="modal-content">
                    <!-- Button to close the event modal -->
                    <span class="close-btn">&times;</span>
                    <!-- Container for dynamic event details -->
                    <div id="modal-details"></div>
                </div>
            </div>              

        </div><!-- End of layout-container -->

        <!-- Include custom JavaScript file that handles map initialization, events, and modals -->
        <script src="scripts.js"></script>
        <!-- Load the Google Maps API script with required key, libraries, and callback -->
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDJRa9QY6RF9ooPsZ1OpVNmMO6enp4mnqA&v=weekly&libraries=marker&mapIds=5c290e9e653ba24a&callback=initMap" async defer></script>
    </body>
</html>
